From 274c4afbb8863ac5d61094e6449b592fe84748ed Mon Sep 17 00:00:00 2001
From: Jake Gealer <jake@gealer.email>
Date: Sat, 4 Apr 2020 12:47:20 +0100
Subject: [PATCH 1/1] private preview modifications

Signed-off-by: Jake Gealer <jake@gealer.email>
---
 core/migrate_from_2.go | 8 ++++----
 core/start.go          | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/core/migrate_from_2.go b/core/migrate_from_2.go
index b8df873..8460f2e 100644
--- a/core/migrate_from_2.go
+++ b/core/migrate_from_2.go
@@ -32,13 +32,13 @@ func MigrateFrom2() {
 		}
 	})
 
-	// Moves ~/magiccap.db to ~/.magiccap/magiccap.db
-	if _, err := os.Stat(path.Join(ConfigPath, "magiccap.db")); os.IsNotExist(err) {
-		if _, err := os.Stat(path.Join(HomeDir, "magiccap.db")); os.IsNotExist(err) {
+	// Moves ~/magiccap_private_preview.db to ~/.magiccap_private_preview/magiccap.db
+	if _, err := os.Stat(path.Join(ConfigPath, "magiccap_private_preview.db")); os.IsNotExist(err) {
+		if _, err := os.Stat(path.Join(HomeDir, "magiccap_private_preview.db")); os.IsNotExist(err) {
 			// This was not a MagicCap 2.X install.
 			return
 		}
-		err = os.Rename(path.Join(HomeDir, "magiccap.db"), path.Join(ConfigPath, "magiccap.db"))
+		err = os.Rename(path.Join(HomeDir, "magiccap_private_preview.db"), path.Join(ConfigPath, "magiccap.db"))
 		if err != nil {
 			sentry.CaptureException(err)
 			panic(err)
diff --git a/core/start.go b/core/start.go
index 72e4767..b64a897 100644
--- a/core/start.go
+++ b/core/start.go
@@ -26,7 +26,7 @@ var (
 	HomeDir, _ = os.UserHomeDir()
 
 	// ConfigPath defines the MagicCap folder path.
-	ConfigPath = path.Join(HomeDir, ".magiccap")
+	ConfigPath = path.Join(HomeDir, ".magiccap_private_preview")
 
 	// CoreAssets contains all of the data from core assets when compiled.
 	CoreAssets = packr.NewBox("../assets/core")
-- 
2.24.0

